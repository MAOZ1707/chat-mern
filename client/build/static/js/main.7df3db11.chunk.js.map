{"version":3,"sources":["hooks/useHttp.js","context/userContext.js","context/roomsContext.js","hooks/useLocalStorage.js","context/themeContext.js","context/messageContext.js","context/socketContext.js","context/authContext.js","components/Chat/Message.js","components/Chat/Conversation.js","utils/Images/b1.png","utils/Images/b2.png","utils/Images/b3.jpg","utils/Images/b4.jpg","utils/Images/b5.jpg","utils/Images/b6.jpg","utils/Images/b7.jpg","utils/Images/b8.jpg","UiElements/BackgroundTheme/BackgroundTheme.js","UiElements/BackDrop/BackDrop.js","UiElements/Modal/Modal.js","components/Chat/StarMessages.js","components/Chat/HeaderOptions.js","components/Chat/HeaderFiles.js","components/Chat/HeaderSearch.js","components/Chat/Chat.js","components/SideBar/SideBarChat.js","components/Rooms/Rooms.js","components/Rooms/CreateRoom.js","components/Friends/FriendsView.js","components/Friends/Friends.js","components/PrivateChat/PrivateChat.js","components/Friends/FriendsList.js","components/SideBar/SideBar.js","components/Dashboard/Dashboard.js","components/Auth/Login.js","components/Auth/SignUp.js","components/Auth/AuthContainer.js","App.js","index.js"],"names":["useHttp","useState","error","setError","isLoading","setIsLoading","sendRequest","useCallback","url","a","method","body","headers","axios","data","response","message","UsersContext","React","createContext","useUsers","useContext","UsersProvider","children","users","setUsers","userFriends","setUserFriends","get","process","loadUserFriends","userId","friends","value","loadUsers","Provider","RoomsContext","useRooms","RoomsProvider","rooms","setRooms","selectedRoom","setSelectedRoom","roomUsers","setRoomUsers","loadRooms","userRooms","useEffect","loadRoomUsers","_id","roomId","chooseRoom","room","ThemeContext","useTheme","ThemeContextProvider","jsonValue","localStorage","getItem","JSON","parse","selectTheme","setSelectTheme","MessageContext","useMessage","MessageProvider","conversationMsgs","setConversationMsgs","lastMessage","setLastMessage","saveMessage","messages","text","sender","name","time","conversationId","console","log","getRoomMessages","getData","SocketContext","useSocket","SocketProvider","id","socket","setSocket","chatUsers","setChatUsers","ENDPOINT","newSocket","io","close","values","AuthContext","useAuth","AuthProvider","setUserId","token","setToken","username","setUsername","login","uID","setItem","stringify","storageData","logout","removeItem","Message","content","send","favorite","starMessage","setStarMessage","handleClick","status","className","onClick","moment","format","Conversation","messageList","search","filterMessages","filter","msg","includes","style","backgroundImage","map","i","Fragment","BackgroundTheme","images","b1","b2","b3","b4","b5","b6","b7","b8","img","src","alt","BackDrop","props","ReactDOM","createPortal","onClose","document","getElementById","Modal","open","querySelector","StarMessages","setMessages","fetchData","HeaderOptions","anchorEl","setAnchorEl","openBgModal","setOpenBgModal","openStarModal","setOpenStartModal","IconButton","aria-controls","aria-haspopup","event","currentTarget","MoreVert","Menu","keepMounted","Boolean","MenuItem","HeaderFiles","handleClose","AttachFile","HeaderSearch","searchTerm","setSearchTerm","searchActive","setSearchActive","prev","SearchOutlined","type","onChange","e","target","Chat","setMessage","openEmoji","setOpenEmoji","emit","on","newMessage","userList","sendMessage","preventDefault","title","Avatar","user","InsertEmoticon","cursor","onEmojiClick","emojiObject","emoji","pickerStyle","position","bottom","left","onSubmit","placeholder","SendOutlined","SideBarChat","roomLastMsg","setRoomLastMsg","prevRoom","setPrevRoom","roomInfo","oldRoom","newRoom","arrOfMsg","length","getLastRoomMessage","deleteRoom","admin","Rooms","CreateRoom","redirect","formik","useFormik","initialValues","validationSchema","Yup","min","required","created","Date","utc","Authorization","statusText","handleSubmit","htmlFor","errors","touched","handleChange","onBlur","handleBlur","autoComplete","FriendsView","setLoad","getUserCharacters","slice","toUpperCase","addFriend","friend","email","Friends","setFriend","PrivateChat","setMessageList","to","private","FriendsList","openPrivateMessage","setOpenPrivateMessage","selectedFriend","setSelectedFriend","inviteToRoom","removeFriend","friendEmail","updateUser","some","toLowerCase","sendPrivateMessage","useStyles","makeStyles","theme","small","width","spacing","height","large","SideBar","localRoute","options","setOptions","classes","SupervisorAccount","fontSize","AddOutlined","Dashboard","setValue","key","defaultValue","stored","initial","storageValue","useLocalStorage","Login","password","Signup","max","AuthContainer","route","exact","path","App","render","StrictMode"],"mappings":"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","file":"static/js/main.7df3db11.chunk.js","sourcesContent":["import { useCallback, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nexport const useHttp = () => {\r\n\tconst [error, setError] = useState(null)\r\n\tconst [isLoading, setIsLoading] = useState(false)\r\n\r\n\tconst sendRequest = useCallback(\r\n\t\tasync (url, method = 'GET', body = null, headers = {}) => {\r\n\t\t\tsetIsLoading(true)\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tmethod,\r\n\t\t\t\t\tdata: body,\r\n\t\t\t\t\theaders,\r\n\t\t\t\t})\r\n\t\t\t\tconst data = response\r\n\t\t\t\tsetIsLoading(false)\r\n\t\t\t\treturn data\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetError(err.response.data.message)\r\n\t\t\t\tsetIsLoading(false)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t)\r\n\r\n\treturn { error, isLoading, sendRequest }\r\n}\r\n","import axios from 'axios'\r\nimport React, { useCallback, useContext, useState } from 'react'\r\nimport { useHttp } from '../hooks/useHttp'\r\n\r\nconst UsersContext = React.createContext()\r\n\r\nexport function useUsers() {\r\n\treturn useContext(UsersContext)\r\n}\r\n\r\nexport function UsersProvider({ children }) {\r\n\tconst { sendRequest } = useHttp()\r\n\r\n\tconst [users, setUsers] = useState([])\r\n\tconst [userFriends, setUserFriends] = useState([])\r\n\r\n\tasync function loadUsers() {\r\n\t\tconst response = await axios.get(\r\n\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users`\r\n\t\t)\r\n\t\tconst data = await response.data.users\r\n\t\tsetUsers(data)\r\n\t}\r\n\r\n\tconst loadUserFriends = useCallback(async (userId) => {\r\n\t\ttry {\r\n\t\t\tconst response = await sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/${userId}/friends`,\r\n\t\t\t\t'GET'\r\n\t\t\t)\r\n\t\t\tconst { data } = response\r\n\t\t\tsetUserFriends(data.friends)\r\n\t\t} catch (error) {}\r\n\t}, [])\r\n\r\n\tconst value = {\r\n\t\tloadUsers,\r\n\t\tsetUserFriends,\r\n\t\tloadUserFriends,\r\n\t\tusers,\r\n\t\tuserFriends,\r\n\t}\r\n\r\n\treturn <UsersContext.Provider value={value}>{children}</UsersContext.Provider>\r\n}\r\n","import axios from 'axios'\r\nimport React, { useCallback, useContext, useEffect, useState } from 'react'\r\n\r\nconst RoomsContext = React.createContext()\r\n\r\nexport function useRooms() {\r\n\treturn useContext(RoomsContext)\r\n}\r\n\r\nexport function RoomsProvider({ children }) {\r\n\tconst [rooms, setRooms] = useState([])\r\n\tconst [selectedRoom, setSelectedRoom] = useState(null)\r\n\tconst [roomUsers, setRoomUsers] = useState(null)\r\n\r\n\tconst loadRooms = async (userId) => {\r\n\t\tconst response = await axios.get(\r\n\t\t\t`${process.env.REACT_APP_BACKEND_URL}/rooms/user/${userId}`\r\n\t\t)\r\n\t\tconst data = await response.data.userRooms\r\n\t\tsetRooms(data)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (selectedRoom) {\r\n\t\t\tloadRoomUsers(selectedRoom._id)\r\n\t\t}\r\n\t}, [selectedRoom])\r\n\r\n\tconst loadRoomUsers = async (roomId) => {\r\n\t\tconst response = await axios.get(\r\n\t\t\t`${process.env.REACT_APP_BACKEND_URL}/rooms/room/${roomId}/users`\r\n\t\t)\r\n\t\tconst { roomUsers } = await response.data\r\n\t\tsetRoomUsers(roomUsers)\r\n\t}\r\n\r\n\tconst chooseRoom = useCallback(async (roomId) => {\r\n\t\tconst response = await axios.get(\r\n\t\t\t`${process.env.REACT_APP_BACKEND_URL}/rooms/${roomId}`\r\n\t\t)\r\n\t\tconst data = await response.data.room\r\n\t\tsetSelectedRoom(data)\r\n\t}, [])\r\n\r\n\tconst value = {\r\n\t\tloadRooms,\r\n\t\tchooseRoom,\r\n\t\tselectedRoom,\r\n\t\tsetSelectedRoom,\r\n\t\tsetRooms,\r\n\t\trooms,\r\n\t\troomUsers,\r\n\t}\r\n\r\n\treturn <RoomsContext.Provider value={value}>{children}</RoomsContext.Provider>\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nexport const useLocalStorage = (key, defaultValue) => {\r\n\tconst stored = localStorage.getItem(key)\r\n\tconst initial = stored ? JSON.parse(stored) : defaultValue\r\n\tconst [storageValue, setValue] = useState(initial)\r\n\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem(key, JSON.stringify(storageValue))\r\n\t}, [key, storageValue])\r\n\r\n\treturn { storageValue, setValue }\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\n\r\nimport { useLocalStorage } from '../hooks/useLocalStorage.js'\r\n\r\nconst ThemeContext = React.createContext()\r\n\r\nexport function useTheme() {\r\n\treturn useContext(ThemeContext)\r\n}\r\n\r\nexport function ThemeContextProvider({ children }) {\r\n\tconst [selectTheme, setSelectTheme] = useState(() => {\r\n\t\tconst jsonValue = localStorage.getItem('user-Theme')\r\n\t\tif (jsonValue != null) return JSON.parse(jsonValue)\r\n\t})\r\n\r\n\tconst value = {\r\n\t\tselectTheme,\r\n\t\tsetSelectTheme,\r\n\t}\r\n\r\n\treturn <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>\r\n}\r\n","import React, { useCallback, useContext, useEffect, useState } from 'react'\r\n\r\nimport axios from 'axios'\r\n\r\nconst MessageContext = React.createContext()\r\n\r\nexport function useMessage() {\r\n\treturn useContext(MessageContext)\r\n}\r\n\r\nexport function MessageProvider({ children }) {\r\n\tconst [conversationMsgs, setConversationMsgs] = useState(null)\r\n\tconst [lastMessage, setLastMessage] = useState()\r\n\r\n\tconst saveMessage = async (data) => {\r\n\t\tif (data) {\r\n\t\t\ttry {\r\n\t\t\t\tawait axios({\r\n\t\t\t\t\turl: `${process.env.REACT_APP_BACKEND_URL}/messages/save`,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmessages: data.text,\r\n\t\t\t\t\t\tsender: data.name,\r\n\t\t\t\t\t\ttime: data.time,\r\n\t\t\t\t\t\tconversationId: data.roomId,\r\n\t\t\t\t\t},\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t\t\t\t// Authorization: 'Bearer ' + token,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst getRoomMessages = useCallback(async (roomId) => {\r\n\t\tif (roomId) {\r\n\t\t\ttry {\r\n\t\t\t\tconst getData = await axios({\r\n\t\t\t\t\turl: `${process.env.REACT_APP_BACKEND_URL}/messages/room/${roomId}`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t\t\t\t// Authorization: 'Bearer ' + token,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\tsetConversationMsgs(getData.data.message)\r\n\t\t\t} catch (error) {}\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst value = {\r\n\t\tsaveMessage,\r\n\t\tgetRoomMessages,\r\n\t\tconversationMsgs,\r\n\t\tsetLastMessage,\r\n\t\tlastMessage,\r\n\t}\r\n\r\n\treturn (\r\n\t\t<MessageContext.Provider value={value}>{children}</MessageContext.Provider>\r\n\t)\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport io from 'socket.io-client'\r\n\r\nconst SocketContext = React.createContext()\r\n\r\nexport function useSocket() {\r\n\treturn useContext(SocketContext)\r\n}\r\n\r\nexport function SocketProvider({ id, children }) {\r\n\tconst [socket, setSocket] = useState()\r\n\tconst [chatUsers, setChatUsers] = useState([])\r\n\r\n\t// const ENDPOINT = 'http://localhost:8000'\r\n\tconst ENDPOINT = 'https://server-socket-v2.herokuapp.com/'\r\n\tuseEffect(() => {\r\n\t\tconst newSocket = io(ENDPOINT)\r\n\t\tsetSocket(newSocket)\r\n\t\treturn () => newSocket.close()\r\n\t}, [ENDPOINT])\r\n\r\n\tconst values = {\r\n\t\tsocket,\r\n\t\tchatUsers,\r\n\t\tsetChatUsers,\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SocketContext.Provider value={values}>{children}</SocketContext.Provider>\r\n\t)\r\n}\r\n","import React, { useCallback, useContext, useEffect, useState } from 'react'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n\treturn useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n\tconst [userId, setUserId] = useState(null)\r\n\tconst [token, setToken] = useState(null)\r\n\tconst [username, setUsername] = useState(null)\r\n\r\n\tconst login = useCallback((uID, token, username) => {\r\n\t\tsetToken(token)\r\n\t\tsetUserId(uID)\r\n\t\tsetUsername(username)\r\n\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'chat-user',\r\n\t\t\tJSON.stringify({ username: username, userId: uID, token: token })\r\n\t\t)\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst storageData = JSON.parse(localStorage.getItem('chat-user'))\r\n\t\tif (storageData && storageData.token) {\r\n\t\t\tlogin(storageData.userId, storageData.token, storageData.username)\r\n\t\t}\r\n\t}, [login])\r\n\r\n\tconst logout = useCallback(() => {\r\n\t\tsetToken(null)\r\n\t\tsetUserId(null)\r\n\t\tsetUsername(null)\r\n\t\tlocalStorage.removeItem('chat-user')\r\n\t}, [])\r\n\r\n\tconst value = {\r\n\t\tlogin,\r\n\t\tlogout,\r\n\t\tuserId,\r\n\t\ttoken,\r\n\t\tusername,\r\n\t}\r\n\r\n\treturn <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\r\n}\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { useHttp } from '../../hooks/useHttp'\r\n\r\nimport StarBorderOutlinedIcon from '@material-ui/icons/StarBorderOutlined'\r\nimport StarIcon from '@material-ui/icons/Star'\r\n\r\nimport './Chat.css'\r\n\r\nconst Message = ({ content, send }) => {\r\n\tconst { error, isLoading, sendRequest } = useHttp()\r\n\tconst [starMessage, setStarMessage] = useState(content.favorite)\r\n\r\n\tconst handleClick = async () => {\r\n\t\tconst response = await sendRequest(\r\n\t\t\t`${process.env.REACT_APP_BACKEND_URL}/messages/${content._id}/favorite`,\r\n\t\t\t'POST',\r\n\t\t\t{ favorite: !starMessage }\r\n\t\t)\r\n\t\tconst { message } = response.data\r\n\t\tif (response.status === 200) {\r\n\t\t\tsetStarMessage(message.favorite)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<p\r\n\t\t\tclassName={`chat__message ${\r\n\t\t\t\tcontent.name !== send ? 'chat__receiver' : null\r\n\t\t\t} `}>\r\n\t\t\t<span className='chat__favorite' onClick={handleClick}>\r\n\t\t\t\t{starMessage ? <StarIcon /> : <StarBorderOutlinedIcon />}\r\n\t\t\t</span>\r\n\t\t\t<span className='chat__name'>{content.name}</span>\r\n\t\t\t{content && content.text}\r\n\t\t\t<span className='chat__timestamp'>\r\n\t\t\t\t{(content && content.time) || moment(content.time).format('HH:mm a')}\r\n\t\t\t</span>\r\n\t\t</p>\r\n\t)\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport Message from './Message'\r\nimport ScrollToBottom from 'react-scroll-to-bottom'\r\n\r\nimport { useTheme } from '../../context/themeContext'\r\n\r\nimport './Chat.css'\r\n\r\nconst Conversation = ({ messageList, send, search }) => {\r\n\tconst { selectTheme } = useTheme()\r\n\r\n\tlet filterMessages = messageList.filter((msg) => msg.text.includes(search))\r\n\r\n\treturn (\r\n\t\t<ScrollToBottom className='messages'>\r\n\t\t\t<div\r\n\t\t\t\tclassName='chat__body'\r\n\t\t\t\tstyle={{ backgroundImage: `url(${selectTheme})` }}>\r\n\t\t\t\t{messageList &&\r\n\t\t\t\t\tfilterMessages.map((msg, i) => (\r\n\t\t\t\t\t\t<React.Fragment key={i}>\r\n\t\t\t\t\t\t\t<Message content={msg} send={send} />\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</ScrollToBottom>\r\n\t)\r\n}\r\n\r\nexport default Conversation\r\n","export default __webpack_public_path__ + \"static/media/b1.94f72df0.png\";","export default __webpack_public_path__ + \"static/media/b2.f14b0540.png\";","export default __webpack_public_path__ + \"static/media/b3.c628fb90.jpg\";","export default __webpack_public_path__ + \"static/media/b4.55419359.jpg\";","export default __webpack_public_path__ + \"static/media/b5.88a1f5d7.jpg\";","export default __webpack_public_path__ + \"static/media/b6.963b514f.jpg\";","export default __webpack_public_path__ + \"static/media/b7.f29700da.jpg\";","export default __webpack_public_path__ + \"static/media/b8.dd81d324.jpg\";","import React from 'react'\r\n\r\nimport { useTheme } from '../../context/themeContext'\r\n\r\nimport b1 from '../../utils/Images/b1.png'\r\nimport b2 from '../../utils/Images/b2.png'\r\nimport b3 from '../../utils/Images/b3.jpg'\r\nimport b4 from '../../utils/Images/b4.jpg'\r\nimport b5 from '../../utils/Images/b5.jpg'\r\nimport b6 from '../../utils/Images/b6.jpg'\r\nimport b7 from '../../utils/Images/b7.jpg'\r\nimport b8 from '../../utils/Images/b8.jpg'\r\n\r\nimport './BackgroundTheme.css'\r\n\r\nconst BackgroundTheme = () => {\r\n\tconst { setSelectTheme } = useTheme()\r\n\r\n\tconst images = [b1, b2, b3, b4, b5, b6, b7, b8]\r\n\r\n\tconst handleClick = (img) => {\r\n\t\tsetSelectTheme(img)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='background__grid'>\r\n\t\t\t{images.map((img, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={i + 1}\r\n\t\t\t\t\t\tonClick={() => handleClick(img)}\r\n\t\t\t\t\t\tclassName={`img__container b_${i + 1}`}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tid={i}\r\n\t\t\t\t\t\t\tsrc={img}\r\n\t\t\t\t\t\t\talt={`b_${i + 1}`}\r\n\t\t\t\t\t\t\tclassName={`img__background image_b${i + 1}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default BackgroundTheme\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport './BackDrop.css'\r\n\r\nconst BackDrop = (props) => {\r\n\treturn ReactDOM.createPortal(\r\n\t\t<div className='backdrop' onClick={props.onClose}></div>,\r\n\t\tdocument.getElementById('backdrop')\r\n\t)\r\n}\r\n\r\nexport default BackDrop\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport BackDrop from '../BackDrop/BackDrop'\r\n\r\nimport './Modal.css'\r\n\r\nconst Modal = ({ open, children, onClose }) => {\r\n\tif (!open) return null\r\n\r\n\treturn ReactDOM.createPortal(\r\n\t\t<div className='modal'>\r\n\t\t\t<BackDrop onClose={onClose} />\r\n\t\t\t<div className='modal__content'>{children}</div>\r\n\t\t\t<div className='modal__footer'>\r\n\t\t\t\t<button onClick={onClose}>close</button>\r\n\t\t\t</div>\r\n\t\t</div>,\r\n\r\n\t\tdocument.querySelector('#modal')\r\n\t)\r\n}\r\n\r\nexport default Modal\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { useHttp } from '../../hooks/useHttp'\r\n\r\nimport './StarMessage.css'\r\n\r\nconst StarMessages = () => {\r\n\tconst { sendRequest } = useHttp()\r\n\tconst { userId } = useAuth()\r\n\tconst [messages, setMessages] = useState([])\r\n\r\n\t//\tTODO == FIX GET ONLY MESSAGE IF TRUE!\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tconst response = await sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/messages/user/${userId}/favorite`,\r\n\t\t\t\t'Get'\r\n\t\t\t)\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetMessages(response.data.message)\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetchData()\r\n\t}, [userId])\r\n\r\n\treturn (\r\n\t\t<div className='star-msg__container'>\r\n\t\t\t{messages &&\r\n\t\t\t\tmessages.map((message) => (\r\n\t\t\t\t\t<div className='star-msg__content' key={message.text}>\r\n\t\t\t\t\t\t<h4 className='star-msg__room'>Room: {message.room}</h4>\r\n\t\t\t\t\t\t<h6 className='star-msg__text'>{message.text}</h6>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default StarMessages\r\n","import React, { useState } from 'react'\r\n\r\nimport { useAuth } from '../../context/authContext'\r\n\r\nimport { IconButton, Menu, MenuItem } from '@material-ui/core'\r\nimport { MoreVert } from '@material-ui/icons'\r\nimport BackgroundTheme from '../../UiElements/BackgroundTheme/BackgroundTheme'\r\nimport Modal from '../../UiElements/Modal/Modal'\r\nimport StarMessages from './StarMessages'\r\n\r\nconst HeaderOptions = () => {\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null)\r\n\tconst [openBgModal, setOpenBgModal] = useState(false)\r\n\tconst [openStarModal, setOpenStartModal] = useState(false)\r\n\tconst { logout } = useAuth()\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\tconst handleModalClick = () => {\r\n\t\tsetAnchorEl(null)\r\n\t\tsetOpenBgModal(true)\r\n\t}\r\n\tconst handleStarMessageClick = () => {\r\n\t\tsetAnchorEl(null)\r\n\t\tsetOpenStartModal(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal open={openBgModal} onClose={() => setOpenBgModal(false)}>\r\n\t\t\t\t<BackgroundTheme />\r\n\t\t\t</Modal>\r\n\t\t\t<Modal open={openStarModal} onClose={() => setOpenStartModal(false)}>\r\n\t\t\t\t<StarMessages />\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<IconButton\r\n\t\t\t\taria-controls='simple-menu'\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t\tonClick={handleClick}>\r\n\t\t\t\t<MoreVert />\r\n\t\t\t</IconButton>\r\n\r\n\t\t\t<Menu\r\n\t\t\t\tid='simple-menu'\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tkeepMounted\r\n\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t<MenuItem onClick={handleModalClick} name='background'>\r\n\t\t\t\t\tBackground\r\n\t\t\t\t</MenuItem>\r\n\t\t\t\t<MenuItem onClick={handleStarMessageClick}>Star messages</MenuItem>\r\n\t\t\t\t<MenuItem onClick={() => logout()}>Logout</MenuItem>\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default HeaderOptions\r\n","import { IconButton, Menu, MenuItem } from '@material-ui/core'\r\nimport { AttachFile } from '@material-ui/icons'\r\nimport React from 'react'\r\n\r\nconst HeaderFiles = () => {\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null)\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<IconButton aria-controls='simple-menu' aria-haspopup='true' onClick={handleClick}>\r\n\t\t\t\t<AttachFile />\r\n\t\t\t</IconButton>\r\n\r\n\t\t\t<Menu\r\n\t\t\t\tid='simple-menu'\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tkeepMounted\r\n\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t<MenuItem onClick={handleClose}>Add Pic</MenuItem>\r\n\t\t\t\t<MenuItem onClick={handleClose}>Add Video</MenuItem>\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default HeaderFiles\r\n","import { IconButton } from '@material-ui/core'\r\nimport { SearchOutlined } from '@material-ui/icons'\r\nimport React, { useState } from 'react'\r\n\r\nimport './HeaderSearch.css'\r\n\r\nconst HeaderSearch = ({ searchTerm, setSearchTerm }) => {\r\n\tconst [searchActive, setSearchActive] = useState(false)\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetSearchActive((prev) => !prev)\r\n\t\tsetSearchTerm('')\r\n\t}\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetSearchTerm(e.target.value)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='search-wrapper'>\r\n\t\t\t<IconButton\r\n\t\t\t\tclassName='search-icon'\r\n\t\t\t\taria-controls='simple-menu'\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t\tonClick={handleClick}>\r\n\t\t\t\t<SearchOutlined />\r\n\t\t\t</IconButton>\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='search'\r\n\t\t\t\tid='text-search'\r\n\t\t\t\tvalue={searchTerm}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tclassName={`search-input ${searchActive && 'active'}`}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default HeaderSearch\r\n","import React, { useEffect, useState } from 'react'\r\nimport moment from 'moment'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { useAuth } from '../../context/authContext'\r\nimport { useRooms } from '../../context/roomsContext'\r\nimport { useMessage } from '../../context/messageContext'\r\nimport Conversation from './Conversation'\r\n\r\nimport { Avatar, IconButton } from '@material-ui/core'\r\nimport { InsertEmoticon, SendOutlined } from '@material-ui/icons'\r\n\r\nimport HeaderOptions from './HeaderOptions'\r\nimport HeaderFiles from './HeaderFiles'\r\nimport HeaderSearch from './HeaderSearch'\r\n\r\nimport './Chat.css'\r\nimport { useSocket } from '../../context/socketContext'\r\n\r\nconst Chat = ({ socket }) => {\r\n\tconst { selectedRoom, roomUsers } = useRooms()\r\n\tconst { username } = useAuth()\r\n\tconst { chatUsers, setChatUsers } = useSocket()\r\n\tconst { saveMessage, conversationMsgs, setLastMessage } = useMessage()\r\n\r\n\tconst [message, setMessage] = useState({ name: username, text: '', room: '' })\r\n\tconst [messages, setMessages] = useState(conversationMsgs || [])\r\n\r\n\tconst [searchTerm, setSearchTerm] = useState('')\r\n\tconst [openEmoji, setOpenEmoji] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket.emit('userJoin', username)\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (conversationMsgs) setMessages(conversationMsgs)\r\n\t}, [conversationMsgs, selectedRoom])\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket.on('sendMessage', (newMessage) => {\r\n\t\t\tsetMessages((prev) => [...prev, newMessage])\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket.on('userList', (userList) => {\r\n\t\t\tsetChatUsers(userList)\r\n\t\t})\r\n\t}, [chatUsers])\r\n\r\n\tconst sendMessage = (e) => {\r\n\t\te.preventDefault()\r\n\t\tlet format = moment().format('HH:mm a')\r\n\t\tconst newMessage = {\r\n\t\t\tname: message.name,\r\n\t\t\ttext: message.text,\r\n\t\t\troom: selectedRoom.title,\r\n\t\t\ttime: format,\r\n\t\t\troomId: selectedRoom._id,\r\n\t\t}\r\n\t\tsocket.emit('sendMessage', newMessage)\r\n\t\tsetMessage({ name: message.name, text: '', room: '' })\r\n\r\n\t\tsetLastMessage({ roomId: selectedRoom._id, text: message.text })\r\n\t\tsaveMessage(newMessage)\r\n\t}\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetMessage({ ...message, text: e.target.value })\r\n\t}\r\n\tconst onEmojiClick = (event, emojiObject) => {\r\n\t\tsetMessage({ ...message, text: message.text + emojiObject.emoji })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='chat'>\r\n\t\t\t{selectedRoom && (\r\n\t\t\t\t<div className='chat__header'>\r\n\t\t\t\t\t<Avatar />\r\n\t\t\t\t\t<div className='chat__headerInfo'>\r\n\t\t\t\t\t\t<h3>{selectedRoom && selectedRoom.title}</h3>\r\n\t\t\t\t\t\t<div className='chat__room-users'>\r\n\t\t\t\t\t\t\t{roomUsers &&\r\n\t\t\t\t\t\t\t\troomUsers.map((user) => (\r\n\t\t\t\t\t\t\t\t\t<p className='chat__room-user' key={user}>\r\n\t\t\t\t\t\t\t\t\t\t{user}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='chat__headerRight'>\r\n\t\t\t\t\t\t<HeaderSearch\r\n\t\t\t\t\t\t\tsearchTerm={searchTerm}\r\n\t\t\t\t\t\t\tsetSearchTerm={setSearchTerm}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<HeaderFiles />\r\n\t\t\t\t\t\t<HeaderOptions />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{selectedRoom && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Conversation\r\n\t\t\t\t\t\tsearch={searchTerm}\r\n\t\t\t\t\t\troom={selectedRoom}\r\n\t\t\t\t\t\tmessageList={messages}\r\n\t\t\t\t\t\tsend={username}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<div className='chat__footer'>\r\n\t\t\t\t\t\t<InsertEmoticon\r\n\t\t\t\t\t\t\tonClick={() => setOpenEmoji((prev) => !prev)}\r\n\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{openEmoji && (\r\n\t\t\t\t\t\t\t<Picker\r\n\t\t\t\t\t\t\t\tonEmojiClick={onEmojiClick}\r\n\t\t\t\t\t\t\t\tpickerStyle={{\r\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\tbottom: '55px',\r\n\t\t\t\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<form onSubmit={sendMessage}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Type a message'\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tvalue={message.text}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<button type='submit' onSubmit={sendMessage}>\r\n\t\t\t\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t\t\t\t<SendOutlined />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Chat\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\nimport { Avatar } from '@material-ui/core'\r\nimport HighlightOffRoundedIcon from '@material-ui/icons/HighlightOffRounded'\r\n\r\nimport { useRooms } from '../../context/roomsContext'\r\nimport { useMessage } from '../../context/messageContext'\r\n\r\nimport axios from 'axios'\r\nimport { useSocket } from '../../context/socketContext'\r\n\r\nimport './SideBarChat.css'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { useHttp } from '../../hooks/useHttp'\r\n\r\nconst SideBarChat = ({ room }) => {\r\n\tconst { socket } = useSocket()\r\n\tconst { selectedRoom, setSelectedRoom, setRooms } = useRooms()\r\n\tconst { getRoomMessages, lastMessage } = useMessage()\r\n\tconst { userId } = useAuth()\r\n\tconst [roomLastMsg, setRoomLastMsg] = useState()\r\n\tconst [prevRoom, setPrevRoom] = useState('')\r\n\r\n\tconst { sendRequest } = useHttp()\r\n\r\n\tconst roomInfo = useCallback(() => {\r\n\t\tif (socket) {\r\n\t\t\tsetSelectedRoom(room)\r\n\t\t\tsocket.emit('roomEntered', { oldRoom: prevRoom, newRoom: room })\r\n\t\t}\r\n\t}, [prevRoom, room, setSelectedRoom, socket])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPrevRoom(selectedRoom)\r\n\t}, [selectedRoom])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getLastRoomMessage = async (roomId) => {\r\n\t\t\ttry {\r\n\t\t\t\tconst getData = await axios({\r\n\t\t\t\t\turl: `${process.env.REACT_APP_BACKEND_URL}/messages/room/${roomId}`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t\t\t\t// Authorization: 'Bearer ' + token,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet { message } = getData.data\r\n\t\t\t\tconst arrOfMsg = message.map((msg) => msg.text)\r\n\t\t\t\tsetRoomLastMsg(arrOfMsg[arrOfMsg.length - 1])\r\n\t\t\t} catch (error) {}\r\n\t\t}\r\n\t\tgetLastRoomMessage(room._id)\r\n\t}, [room._id])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (lastMessage && lastMessage.roomId === room._id) {\r\n\t\t\tsetRoomLastMsg(lastMessage.text)\r\n\t\t}\r\n\t}, [lastMessage, room._id])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (selectedRoom !== null) {\r\n\t\t\tgetRoomMessages(selectedRoom._id)\r\n\t\t}\r\n\t}, [getRoomMessages, selectedRoom])\r\n\r\n\tconst deleteRoom = async (roomId) => {\r\n\t\tconst response = await sendRequest(\r\n\t\t\t`${process.env.REACT_APP_BACKEND_URL}/rooms/${roomId}/delete`,\r\n\t\t\t'DELETE',\r\n\t\t\t{\r\n\t\t\t\tadmin: userId,\r\n\t\t\t}\r\n\t\t)\r\n\t\tconst { userRooms } = response.data\r\n\t\tif (response.status === 200) {\r\n\t\t\tsetRooms(userRooms)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='sidebarChat' onClick={roomInfo}>\r\n\t\t\t<Avatar />\r\n\t\t\t<div className='sidebarChat__info'>\r\n\t\t\t\t<h2>{room.title}</h2>\r\n\t\t\t\t<p>{roomLastMsg}</p>\r\n\t\t\t</div>\r\n\t\t\t{selectedRoom && selectedRoom.admin === userId ? (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='sidebarChat__delete'\r\n\t\t\t\t\tonClick={() => deleteRoom(selectedRoom._id)}>\r\n\t\t\t\t\t<HighlightOffRoundedIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideBarChat\r\n","import React from 'react'\r\nimport SideBarChat from '../SideBar/SideBarChat'\r\n\r\nconst Rooms = ({rooms}) => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{rooms &&\r\n\t\t\t\trooms.map((room) => (\r\n\t\t\t\t\t<React.Fragment key={room._id}>\r\n\t\t\t\t\t\t<SideBarChat room={room} />\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t))}\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default Rooms\r\n","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { useHttp } from '../../hooks/useHttp'\r\n\r\nimport './CreateRoom.css'\r\nimport { useRooms } from '../../context/roomsContext'\r\n\r\nconst CreateRoom = ({ redirect }) => {\r\n\tconst { error, isLoading, sendRequest } = useHttp()\r\n\tconst { loadRooms } = useRooms()\r\n\tconst { token, userId } = useAuth()\r\n\r\n\tconst formik = useFormik({\r\n\t\tinitialValues: {\r\n\t\t\tname: '',\r\n\t\t},\r\n\t\tvalidationSchema: Yup.object({\r\n\t\t\tname: Yup.string()\r\n\t\t\t\t.min(2, 'Must be 2 characters or more')\r\n\t\t\t\t.required('Required'),\r\n\t\t}),\r\n\t\tonSubmit: async (values) => {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await sendRequest(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/rooms/create`,\r\n\t\t\t\t\t'POST',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: values.name,\r\n\t\t\t\t\t\tcreated: moment(new Date()).utc().format('DD/MM/YYYY'),\r\n\t\t\t\t\t\tadmin: userId,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t// const {data} = response\r\n\t\t\t\tif (response.statusText === 'OK') {\r\n\t\t\t\t\tloadRooms(userId)\r\n\t\t\t\t\tredirect('chat')\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {}\r\n\t\t},\r\n\t})\r\n\r\n\treturn (\r\n\t\t<div className='create-room__container'>\r\n\t\t\t<h3 className='create-room__title'>Create room</h3>\r\n\t\t\t{error && <div>{error}</div>}\r\n\t\t\t{isLoading && <div>Loading....</div>}\r\n\t\t\t<form onSubmit={formik.handleSubmit} className='create-room__form'>\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor='name'\r\n\t\t\t\t\tclassName={`create-room__label create-room__label__name ${\r\n\t\t\t\t\t\t!formik.errors.name && formik.touched.name && 'create-room__success'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\tRoom name\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='create-room__input create-room__name'\r\n\t\t\t\t\tid='room-name'\r\n\t\t\t\t\tname='name'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tonChange={formik.handleChange}\r\n\t\t\t\t\tonBlur={formik.handleBlur}\r\n\t\t\t\t\tvalue={formik.values.name}\r\n\t\t\t\t\tautoComplete='new-password'\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className='create-room__error__wrapper'>\r\n\t\t\t\t\t{formik.touched.name && formik.errors.name ? (\r\n\t\t\t\t\t\t<span className='create-room__error__msg'>\r\n\t\t\t\t\t\t\t{formik.errors.name}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type='submit' className='create-room__btn'>\r\n\t\t\t\t\tCreate\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CreateRoom\r\n","import React, { useCallback, useState } from 'react'\r\nimport { Avatar } from '@material-ui/core'\r\n\r\nimport { useHttp } from '../../hooks/useHttp'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { useUsers } from '../../context/userContext'\r\n\r\nimport './Friends.css'\r\n\r\nconst FriendsView = ({ user, redirect }) => {\r\n\tconst { error, sendRequest } = useHttp()\r\n\tconst { username, userId } = useAuth()\r\n\tconst { setUserFriends, userFriends } = useUsers()\r\n\tconst [load, setLoad] = useState(false)\r\n\r\n\tconst getUserCharacters = user.name.slice(0, 2).toUpperCase()\r\n\r\n\tconst addFriend = useCallback(async () => {\r\n\t\tconst admin = { username, userId }\r\n\t\ttry {\r\n\t\t\tconst response = await sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/add`,\r\n\t\t\t\t'POST',\r\n\t\t\t\t{\r\n\t\t\t\t\tfriend: user,\r\n\t\t\t\t\tadmin: admin,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t\t\t// Authorization: 'Bearer ' + token,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\tconst { data } = response\r\n\t\t\tsetUserFriends([...userFriends, data.user])\r\n\r\n\t\t\tif (response.statusText === 'OK') {\r\n\t\t\t\tredirect('rooms')\r\n\t\t\t\tsetLoad((prev) => !prev)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconsole.log(error)\r\n\r\n\treturn (\r\n\t\t<div className='friends_view'>\r\n\t\t\t<Avatar>{getUserCharacters}</Avatar>\r\n\t\t\t<div className='friends_view__info'>\r\n\t\t\t\t<h2>{user.name}</h2>\r\n\t\t\t\t<p>{user.email}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className='friends_view__footer'>\r\n\t\t\t\t<button className='friends__btn_add' onClick={addFriend}>\r\n\t\t\t\t\tAdd to list\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FriendsView\r\n","import React, { useState } from 'react'\r\nimport * as Yup from 'yup'\r\nimport { useFormik } from 'formik'\r\n\r\nimport { useHttp } from '../../hooks/useHttp'\r\nimport FriendsView from './FriendsView'\r\n\r\nimport './Friends.css'\r\n\r\nconst Friends = ({ redirect }) => {\r\n\tconst { error, isLoading, sendRequest } = useHttp()\r\n\tconst [friend, setFriend] = useState(null)\r\n\r\n\tconst formik = useFormik({\r\n\t\tinitialValues: {\r\n\t\t\temail: '',\r\n\t\t},\r\n\t\tvalidationSchema: Yup.object({\r\n\t\t\temail: Yup.string().email('invalid email address').required('Required'),\r\n\t\t}),\r\n\t\tonSubmit: async (values) => {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await sendRequest(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/find-friend${\r\n\t\t\t\t\t\t'?email=' + values.email\r\n\t\t\t\t\t}`,\r\n\t\t\t\t\t'GET'\r\n\t\t\t\t)\r\n\t\t\t\tconst { data } = response\r\n\t\t\t\tsetFriend(data.user)\r\n\t\t\t} catch (error) {}\r\n\t\t},\r\n\t})\r\n\r\n\treturn (\r\n\t\t<div className='friends__container'>\r\n\t\t\t<h3 className='friends__title'>Add Friends</h3>\r\n\t\t\t{error && <div>{error}</div>}\r\n\t\t\t{isLoading && <div>Loading....</div>}\r\n\t\t\t<form onSubmit={formik.handleSubmit} className='friends__form'>\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor='email'\r\n\t\t\t\t\tclassName={`friends__label friends__label__name ${\r\n\t\t\t\t\t\t!formik.errors.email && formik.touched.email && 'friends__success'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\tUser email\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='friends__input friends__name'\r\n\t\t\t\t\tid='email'\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tonChange={formik.handleChange}\r\n\t\t\t\t\tonBlur={formik.handleBlur}\r\n\t\t\t\t\tvalue={formik.values.email}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className='friends__error__wrapper'>\r\n\t\t\t\t\t{formik.touched.email && formik.errors.email ? (\r\n\t\t\t\t\t\t<span className='friends__error__msg'>{formik.errors.email}</span>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type='submit' className='friends__btn'>\r\n\t\t\t\t\tFind\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\r\n\t\t\t<div className='friends-view__wrapper'>\r\n\t\t\t\t{friend && <FriendsView user={friend} redirect={redirect} />}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Friends\r\n","import { IconButton } from '@material-ui/core'\r\nimport { SendOutlined } from '@material-ui/icons'\r\nimport SecurityIcon from '@material-ui/icons/Security'\r\nimport moment from 'moment'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { useSocket } from '../../context/socketContext'\r\n\r\nimport './PrivateChat.css'\r\n\r\nconst PrivateChat = ({ friend }) => {\r\n\tconst { username } = useAuth()\r\n\tconst { socket } = useSocket()\r\n\tconst [messageList, setMessageList] = useState([])\r\n\tconst [message, setMessage] = useState({ name: username, text: '' })\r\n\tconsole.log(friend)\r\n\tconst handleChange = (e) => {\r\n\t\tsetMessage({ ...message, text: e.target.value })\r\n\t}\r\n\r\n\tconst sendMessage = (e) => {\r\n\t\te.preventDefault()\r\n\t\tlet format = moment().format('HH:mm a')\r\n\t\tconst newMessage = {\r\n\t\t\tname: message.name,\r\n\t\t\ttext: message.text,\r\n\t\t\ttime: format,\r\n\t\t\tto: friend,\r\n\t\t\tprivate: true,\r\n\t\t}\r\n\t\tsocket.emit('sendMessage', newMessage)\r\n\t\tsetMessage({ name: message.name, text: '' })\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tsocket.on('sendMessage', (newMessage) => {\r\n\t\t\tsetMessageList((prev) => [...prev, newMessage])\r\n\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div className='private-chat__container'>\r\n\t\t\t<div className='private_chat__note-wrapper'>\r\n\t\t\t\t<SecurityIcon />\r\n\t\t\t\t<p className='private-chat__note'>\r\n\t\t\t\t\tYou are in private chat, <br />\r\n\t\t\t\t\tthe messages will delete after closing the chat\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='private-chat__messages'>\r\n\t\t\t\t{messageList &&\r\n\t\t\t\t\tmessageList.map((msg) => (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`private-chat__message_wrapper ${\r\n\t\t\t\t\t\t\t\tfriend === msg.name ? 'receiver' : null\r\n\t\t\t\t\t\t\t}`}>\r\n\t\t\t\t\t\t\t<h3 className='private-chat__name'>{msg.name}</h3>\r\n\t\t\t\t\t\t\t<p className='private-chat__body'>{msg.text}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div className='private-chat__footer'>\r\n\t\t\t\t<form onSubmit={sendMessage}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Type a message'\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tvalue={message.text}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type='submit' onSubmit={sendMessage}>\r\n\t\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t\t<SendOutlined />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PrivateChat\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport { useUsers } from '../../context/userContext'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { useRooms } from '../../context/roomsContext'\r\nimport { useHttp } from '../../hooks/useHttp'\r\n\r\nimport HighlightOffOutlinedIcon from '@material-ui/icons/HighlightOffOutlined'\r\nimport MessageOutlinedIcon from '@material-ui/icons/MessageOutlined'\r\nimport { Avatar } from '@material-ui/core'\r\nimport GroupAddIcon from '@material-ui/icons/GroupAdd'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport './FriendList.css'\r\nimport { useSocket } from '../../context/socketContext'\r\nimport Modal from '../../UiElements/Modal/Modal'\r\nimport PrivateChat from '../PrivateChat/PrivateChat'\r\n\r\nconst FriendsList = () => {\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null)\r\n\tconst { setUserFriends, userFriends, loadUserFriends } = useUsers()\r\n\tconst { userId } = useAuth()\r\n\tconst { rooms } = useRooms()\r\n\tconst { sendRequest } = useHttp()\r\n\tconst { chatUsers, socket } = useSocket()\r\n\tconst [load, setLoad] = useState(false)\r\n\tconst [openPrivateMessage, setOpenPrivateMessage] = useState(false)\r\n\tconst [selectedFriend, setSelectedFriend] = useState('')\r\n\r\n\tuseEffect(() => {\r\n\t\tloadUserFriends(userId)\r\n\t}, [loadUserFriends, userId])\r\n\r\n\tconst handleClick = (event, friend) => {\r\n\t\tsetSelectedFriend(friend.email)\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst inviteToRoom = async (roomId, email) => {\r\n\t\ttry {\r\n\t\t\tconst response = await sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/rooms/${roomId}/addUser`,\r\n\t\t\t\t'patch',\r\n\t\t\t\t{\r\n\t\t\t\t\temail: email,\r\n\t\t\t\t\tadmin: userId,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t// Authorization: 'Bearer ' + token,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\tif (response.statusText === 'OK') {\r\n\t\t\t\tsetAnchorEl(null)\r\n\t\t\t}\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\tconst removeFriend = async (friendEmail) => {\r\n\t\ttry {\r\n\t\t\tconst response = await sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/remove-friend`,\r\n\t\t\t\t'patch',\r\n\t\t\t\t{\r\n\t\t\t\t\tadmin: userId,\r\n\t\t\t\t\tfriendEmail,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t// Authorization: 'Bearer ' + token,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\tconst { updateUser } = response.data\r\n\r\n\t\t\tif (response.statusText === 'OK') {\r\n\t\t\t\tsetUserFriends(updateUser.friends)\r\n\t\t\t\tsetLoad((prev) => !prev)\r\n\t\t\t}\r\n\t\t} catch (error) {}\r\n\t}\r\n\r\n\tconst sendPrivateMessage = (friend) => {\r\n\t\tif (socket) {\r\n\t\t\tsocket.emit('privateMessage', friend)\r\n\t\t\tsetSelectedFriend(friend)\r\n\t\t\tsetOpenPrivateMessage(true)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='friend-list__container'>\r\n\t\t\t<Modal\r\n\t\t\t\tonClose={() => setOpenPrivateMessage(false)}\r\n\t\t\t\topen={openPrivateMessage}>\r\n\t\t\t\t<PrivateChat friend={selectedFriend} />\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<h2 className='friend-list__title'>My Friends</h2>\r\n\t\t\t{userFriends &&\r\n\t\t\t\tuserFriends.map((friend, i) => (\r\n\t\t\t\t\t<div className='friend-list_view' key={i}>\r\n\t\t\t\t\t\t<div className='avatar'>\r\n\t\t\t\t\t\t\t<Avatar>PIC</Avatar>\r\n\t\t\t\t\t\t\t{chatUsers &&\r\n\t\t\t\t\t\t\tchatUsers.some(\r\n\t\t\t\t\t\t\t\t(user) => friend.name.toLowerCase() === user.toLowerCase()\r\n\t\t\t\t\t\t\t) ? (\r\n\t\t\t\t\t\t\t\t<div className='friend-list_online'></div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='friend-list_view__info'>\r\n\t\t\t\t\t\t\t<h2 className='friend-list_name'>{friend.name}</h2>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\taria-controls='simple-menu'\r\n\t\t\t\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t\t\t\t\tclassName='friend-list-option'>\r\n\t\t\t\t\t\t\t\t<GroupAddIcon\r\n\t\t\t\t\t\t\t\t\tclassName='group_icon'\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => handleClick(event, friend)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<HighlightOffOutlinedIcon\r\n\t\t\t\t\t\t\t\t\tclassName='delete_icon'\r\n\t\t\t\t\t\t\t\t\tonClick={() => removeFriend(friend.email)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<MessageOutlinedIcon\r\n\t\t\t\t\t\t\t\t\tclassName='msg_icon'\r\n\t\t\t\t\t\t\t\t\tonClick={() => sendPrivateMessage(friend.name)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\tid='simple-menu'\r\n\t\t\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t\t\t\t{rooms &&\r\n\t\t\t\t\t\t\t\trooms.map((room) => (\r\n\t\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\t\tkey={room._id}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => inviteToRoom(room._id, selectedFriend)}>\r\n\t\t\t\t\t\t\t\t\t\t{room.title}\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FriendsList\r\n","import React, { useState } from 'react'\r\n\r\nimport Rooms from '../Rooms/Rooms'\r\nimport { useRooms } from '../../context/roomsContext'\r\nimport { AddOutlined, SupervisorAccount } from '@material-ui/icons'\r\nimport ChatOutlinedIcon from '@material-ui/icons/ChatOutlined'\r\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined'\r\nimport { Avatar, IconButton, Menu, MenuItem } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport CreateRoom from '../Rooms/CreateRoom'\r\n\r\nimport './SideBar.css'\r\nimport Friends from '../Friends/Friends'\r\nimport FriendsList from '../Friends/FriendsList'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tsmall: {\r\n\t\twidth: theme.spacing(3),\r\n\t\theight: theme.spacing(3),\r\n\t},\r\n\tlarge: {\r\n\t\twidth: theme.spacing(6),\r\n\t\theight: theme.spacing(6),\r\n\t},\r\n}))\r\n\r\nconst SideBar = ({ socket, username }) => {\r\n\tconst [options, setOptions] = useState('')\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null)\r\n\r\n\tconst { rooms } = useRooms()\r\n\tconst classes = useStyles()\r\n\r\n\tconst getUserCharacters = username.slice(0, 2).toUpperCase()\r\n\r\n\tlet localRoute\r\n\r\n\tswitch (options) {\r\n\t\tcase 'create-room':\r\n\t\t\tlocalRoute = <CreateRoom redirect={setOptions} />\r\n\t\t\tbreak\r\n\t\tcase 'rooms':\r\n\t\t\tlocalRoute = <Rooms rooms={rooms} />\r\n\t\t\tbreak\r\n\t\tcase 'add-friends':\r\n\t\t\tlocalRoute = <Friends redirect={setOptions} />\r\n\t\t\tbreak\r\n\t\tcase 'friends-list':\r\n\t\t\tlocalRoute = <FriendsList redirect={setOptions} />\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tlocalRoute = <Rooms rooms={rooms} />\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\treturn (\r\n\t\t<div className='sidebar'>\r\n\t\t\t<div className='sidebar__header'>\r\n\t\t\t\t<Avatar className={classes.large}>{getUserCharacters}</Avatar>\r\n\t\t\t\t<div className='sidebar__headerRight'>\r\n\t\t\t\t\t<IconButton onClick={() => setOptions('friends-list')}>\r\n\t\t\t\t\t\t<SupervisorAccount fontSize='small' />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton onClick={() => setOptions('rooms')}>\r\n\t\t\t\t\t\t<ChatOutlinedIcon fontSize='small' />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\taria-controls='simple-menu'\r\n\t\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t\t\tonClick={handleClick}>\r\n\t\t\t\t\t\t<AddOutlined />\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t<Menu\r\n\t\t\t\t\t\tid='simple-menu'\r\n\t\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t\t\t<MenuItem onClick={handleClose}>\r\n\t\t\t\t\t\t\t<p onClick={() => setOptions('create-room')}>Create Room</p>\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={handleClose}>\r\n\t\t\t\t\t\t\t<p onClick={() => setOptions('add-friends')}>Add Friend</p>\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='sidebar__search'>\r\n\t\t\t\t<div className='sidebar__searchContainer'>\r\n\t\t\t\t\t<SearchOutlinedIcon />\r\n\t\t\t\t\t<input type='text' placeholder='Search or start new chat' />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='sidebar__chat'>{localRoute}</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideBar\r\n","import React, { useEffect } from 'react'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { useRooms } from '../../context/roomsContext'\r\nimport { useSocket } from '../../context/socketContext'\r\nimport { useTheme } from '../../context/themeContext'\r\nimport { useUsers } from '../../context/userContext'\r\nimport { useLocalStorage } from '../../hooks/useLocalStorage'\r\nimport Chat from '../Chat/Chat'\r\nimport SideBar from '../SideBar/SideBar'\r\n\r\nconst Dashboard = ({ user }) => {\r\n\tconst { loadUsers } = useUsers()\r\n\tconst { loadRooms } = useRooms()\r\n\tconst { selectTheme } = useTheme()\r\n\tconst { socket } = useSocket()\r\n\tconst { setValue } = useLocalStorage('user-Theme', '')\r\n\tconst { userId } = useAuth()\r\n\r\n\tuseEffect(() => {\r\n\t\tif (selectTheme) {\r\n\t\t\tsetValue(selectTheme)\r\n\t\t} else {\r\n\t\t\tsetValue('')\r\n\t\t}\r\n\t}, [selectTheme])\r\n\r\n\tuseEffect(() => {\r\n\t\tloadUsers()\r\n\t\tloadRooms(userId)\r\n\t}, [userId])\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{socket && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<SideBar socket={socket} username={user} />\r\n\t\t\t\t\t<Chat socket={socket} username={user} />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","import { useFormik } from 'formik'\r\nimport React from 'react'\r\nimport * as Yup from 'yup'\r\n\r\nimport { useHttp } from '../../hooks/useHttp'\r\nimport { useAuth } from '../../context/authContext'\r\n\r\nimport './Auth.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Login = () => {\r\n\tconst { error, isLoading, sendRequest } = useHttp()\r\n\tconst { login } = useAuth()\r\n\r\n\tconst formik = useFormik({\r\n\t\tinitialValues: {\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t},\r\n\t\tvalidationSchema: Yup.object({\r\n\t\t\tpassword: Yup.string()\r\n\t\t\t\t.min(6, 'Must be 6 characters or more')\r\n\t\t\t\t.required('Required'),\r\n\t\t\temail: Yup.string().email('invalid email address').required('Required'),\r\n\t\t}),\r\n\t\tonSubmit: async (values) => {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await sendRequest(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/login`,\r\n\t\t\t\t\t'POST',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\temail: values.email,\r\n\t\t\t\t\t\tpassword: values.password,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\tconst data = response.data\r\n\t\t\t\tlogin(data.user._id, data.token, data.user.name)\r\n\t\t\t} catch (error) {}\r\n\t\t},\r\n\t})\r\n\r\n\treturn (\r\n\t\t<div className='auth__container'>\r\n\t\t\t<h3 className='aut__title'>Login</h3>\r\n\t\t\t{error && <div>{error}</div>}\r\n\t\t\t{isLoading && <div>Loading....</div>}\r\n\t\t\t<form onSubmit={formik.handleSubmit} className='auth__form'>\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor='email'\r\n\t\t\t\t\tclassName={`auth__label auth__label__email ${\r\n\t\t\t\t\t\t!formik.errors.email && formik.touched.email && 'auth__success'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\tEmail\r\n\t\t\t\t\t{formik.touched.email && formik.errors.email ? (\r\n\t\t\t\t\t\t<span className='auth__error__msg'>{formik.errors.email}</span>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='auth__input auth__email'\r\n\t\t\t\t\tid='email'\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tonChange={formik.handleChange}\r\n\t\t\t\t\tonBlur={formik.handleBlur}\r\n\t\t\t\t\tvalue={formik.values.email}\r\n\t\t\t\t\tautoComplete='new-password'\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor='password'\r\n\t\t\t\t\tclassName={`auth__label auth__label__password ${\r\n\t\t\t\t\t\t!formik.errors.password &&\r\n\t\t\t\t\t\tformik.touched.password &&\r\n\t\t\t\t\t\t'auth__success'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\tPassword\r\n\t\t\t\t\t{formik.touched.password && formik.errors.password ? (\r\n\t\t\t\t\t\t<span className='auth__error__msg'>{formik.errors.password}</span>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='auth__input aut__password'\r\n\t\t\t\t\tid='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tonChange={formik.handleChange}\r\n\t\t\t\t\tonBlur={formik.handleBlur}\r\n\t\t\t\t\tvalue={formik.values.password}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<button type='submit' className='auth__btn'>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div className='auth__link'>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tDont have account? <Link to='/signup'>Sign up</Link>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from 'yup'\r\n\r\nimport { useHttp } from '../../hooks/useHttp'\r\nimport { useAuth } from '../../context/authContext'\r\n\r\nimport './Auth.css'\r\n\r\nconst Signup = () => {\r\n\tconst { sendRequest } = useHttp()\r\n\r\n\tconst { login } = useAuth()\r\n\r\n\tconst formik = useFormik({\r\n\t\tinitialValues: {\r\n\t\t\tname: '',\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t},\r\n\t\tvalidationSchema: Yup.object({\r\n\t\t\tname: Yup.string()\r\n\t\t\t\t.max(15, 'Must be 15 characters or less')\r\n\t\t\t\t.required('Required'),\r\n\t\t\temail: Yup.string().email('invalid email address').required('Required'),\r\n\t\t\tpassword: Yup.string()\r\n\t\t\t\t.min(6, 'Must be at least 6 characters')\r\n\t\t\t\t.required('Required'),\r\n\t\t}),\r\n\t\tonSubmit: async (values) => {\r\n\t\t\tconsole.log(values)\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await sendRequest(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/signup`,\r\n\t\t\t\t\t'POST',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: values.name,\r\n\t\t\t\t\t\temail: values.email,\r\n\t\t\t\t\t\tpassword: values.password,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\tconst data = response.data\r\n\t\t\t\tlogin(data.user._id, data.token, data.user.name)\r\n\t\t\t} catch (error) {}\r\n\t\t},\r\n\t})\r\n\r\n\treturn (\r\n\t\t<div className='auth__container'>\r\n\t\t\t<h3 className='aut__title'>Sign up</h3>\r\n\t\t\t<form onSubmit={formik.handleSubmit} className='auth__form'>\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor='name'\r\n\t\t\t\t\tclassName={`auth__label auth__label__name ${\r\n\t\t\t\t\t\t!formik.errors.name && formik.touched.name && 'auth__success'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\tName\r\n\t\t\t\t\t{formik.touched.name && formik.errors.name ? (\r\n\t\t\t\t\t\t<span className='auth__error__msg'>{formik.errors.name}</span>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='auth__input auth__name'\r\n\t\t\t\t\tautoComplete='name'\r\n\t\t\t\t\tid='name'\r\n\t\t\t\t\tname='name'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tonChange={formik.handleChange}\r\n\t\t\t\t\tonBlur={formik.handleBlur}\r\n\t\t\t\t\tvalue={formik.values.name}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor='email'\r\n\t\t\t\t\tclassName={`auth__label auth__label__email ${\r\n\t\t\t\t\t\t!formik.errors.email && formik.touched.email && 'auth__success'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\tEmail\r\n\t\t\t\t\t{formik.touched.email && formik.errors.email ? (\r\n\t\t\t\t\t\t<span className='auth__error__msg'>{formik.errors.email}</span>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='auth__input auth__email'\r\n\t\t\t\t\tid='email'\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tonChange={formik.handleChange}\r\n\t\t\t\t\tonBlur={formik.handleBlur}\r\n\t\t\t\t\tvalue={formik.values.email}\r\n\t\t\t\t\tautoComplete='new-password'\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor='password'\r\n\t\t\t\t\tclassName={`auth__label auth__label__password ${\r\n\t\t\t\t\t\t!formik.errors.password &&\r\n\t\t\t\t\t\tformik.touched.password &&\r\n\t\t\t\t\t\t'auth__success'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\tPassword\r\n\t\t\t\t\t{formik.touched.password && formik.errors.password ? (\r\n\t\t\t\t\t\t<span className='auth__error__msg'>{formik.errors.password}</span>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='auth__input aut__password'\r\n\t\t\t\t\tid='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tonChange={formik.handleChange}\r\n\t\t\t\t\tonBlur={formik.handleBlur}\r\n\t\t\t\t\tvalue={formik.values.password}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<button type='submit' className='auth__btn'>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div className='auth__link'>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tYou have account? <Link to='/login'>Login</Link>{' '}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Signup\r\n","import React from 'react'\r\nimport {\r\n\tBrowserRouter as Router,\r\n\tRedirect,\r\n\tRoute,\r\n\tSwitch,\r\n} from 'react-router-dom'\r\nimport Login from './Login'\r\nimport Signup from './SignUp'\r\n\r\nconst AuthContainer = () => {\r\n\tlet route = (\r\n\t\t<Switch>\r\n\t\t\t<Route exact path='/signup'>\r\n\t\t\t\t<Signup />\r\n\t\t\t</Route>\r\n\t\t\t<Route exact path='/'>\r\n\t\t\t\t<Login />\r\n\t\t\t</Route>\r\n\t\t\t<Redirect to='/' />\r\n\t\t</Switch>\r\n\t)\r\n\r\n\treturn <Router>{route}</Router>\r\n}\r\n\r\nexport default AuthContainer\r\n","import { UsersProvider } from './context/userContext'\nimport { RoomsProvider } from './context/roomsContext'\nimport { ThemeContextProvider } from './context/themeContext'\nimport { MessageProvider } from './context/messageContext'\nimport { SocketProvider } from './context/socketContext'\n\nimport { useAuth } from './context/authContext'\nimport Dashboard from './components/Dashboard/Dashboard'\nimport AuthContainer from './components/Auth/AuthContainer'\n\nimport './App.css'\n\nfunction App() {\n\tconst { token, username, userId } = useAuth()\n\n\tconst dashboard = (\n\t\t<div className='app'>\n\t\t\t<div className='app__body'>\n\t\t\t\t<UsersProvider>\n\t\t\t\t\t<SocketProvider id={userId}>\n\t\t\t\t\t\t<RoomsProvider>\n\t\t\t\t\t\t\t<MessageProvider>\n\t\t\t\t\t\t\t\t<ThemeContextProvider>\n\t\t\t\t\t\t\t\t\t<Dashboard user={username} />\n\t\t\t\t\t\t\t\t</ThemeContextProvider>\n\t\t\t\t\t\t\t</MessageProvider>\n\t\t\t\t\t\t</RoomsProvider>\n\t\t\t\t\t</SocketProvider>\n\t\t\t\t</UsersProvider>\n\t\t\t</div>\n\t\t</div>\n\t)\n\n\treturn token && username ? dashboard : <AuthContainer />\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nimport {AuthProvider} from './context/authContext'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<AuthProvider>\n\t\t\t<App />\n\t\t</AuthProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n)\n"],"sourceRoot":""}